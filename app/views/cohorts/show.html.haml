.row
  .large-12.medium-12.columns
    %h3.inline_title= pretty_cohort_name(@cohort)
    .span.button.tiny.round.alert.create_assignment_button
      Create Assignment
    .span.button.tiny.round.alert.edit_cohort_button
      Edit Cohort
    .span.button.tiny.round.alert.add_user_button
      Add User
    .span.button.tiny.round.alert.create_admin_button
      Create Admin

%br

.large-4.medium-4.columns.remove_padding
  %label.admin_sidebar_title.ironyarders_border
    Ironyarders
  %br
  %table
    %thead
      %tr
        %td
          Name
        %td
          Actions
    %tbody.ironyarders
      - @active_cohort_users.each do |user|
        %tr
          %td
            = link_to user.email, cohort_path(@cohort)
          %td
            %span.button.tiny.secondary.round.dropdown{"data-dropdown" => "drop#{user.id}", href: "#"} Actions
            %br/
            %ul.f-dropdown{"data-dropdown-content" => "", id: "drop#{user.id}"}
              %li
                %a{href: "#"} This is a link
              %li
                %a{href: "mailto:#{user.email}?subject=Message from IronBaseOne"} Email User
              %li
                %a{href: "#", class: "remove", data: {"user-id" => user.id, "user-email" => user.email, "cohort-id" => @cohort.id}} Remove the User

.large-8.medium-8.columns.remove_padding
  %label.admin_sidebar_title
    Cohort Assignments
  %br
  %table.cohort_assignments
    %thead
      %td
        Assignment
      %td
        Assigned On
      %td
        Due Date
    %tbody
    - @cohort.assignments.each do |assignment|
      %tr
        %td
          = link_to assignment.name, assignment_path(assignment)
        %td
          Assigned on date here
        %td  
          = pretty_due_date(assignment.due_date)



.add_user_modal.hide.modal_custom
  %h1 Add User to Cohort
  %table.wide_table
    %thead
      %td
        User
      %td
        Add?
    %tbody
    - User.all.each do |user|
      - unless enrollment_status_active?(@cohort, user)
        %tr
          %td
            = user.email
          %td
            %span.add_to_cohort_button.button.tiny.round{ data: {"cohort-id" => @cohort.id, "user-id" => user.id, "data-no-turbolink" => "true"}}
              Add User to Cohort
            
      %br

.new_assignment_modal.hide.modal_custom
  %h1 Create a New Assignment
  = form_for Assignment.new do |f|
    = f.hidden_field :cohort_id, :value => @cohort.id
    = render 'assignments/form', f: f

.edit_cohort_modal.hide.modal_custom
  %h1 Edit Cohort
  = form_for @cohort do |f|
    = render 'cohorts/form', f: f, location: @cohort.location

.create_admin_modal.hide.modal_custom
  %h1 Make User Admin
  %table.wide_table
    %thead
      %td
        User
      %td
        Make Admin?
    %tbody
      - User.all.each do |user|
        - unless user.has_role? :admin
          %tr
            %td
              = user.email
            %td
              = check_box_tag user.id, user.has_role?(:admin), user.has_role?(:admin), data: {"user-id" => user.id}, class: 'admin_checkbox'
      %br

.admin_message.modal_custom
  User successfull promoted to admin!